const personalData = {
    "ProfessionalExperience": [
        {
           "companyN":"Restmesh Inc.",
           "role": "Front-End Web Developer",
           "date": "Jul 2019 - Aug 2019",
           "location": "Redmond, WA",
           "description":[
                "Work in the cloud-based IT solutions start-up’s core engineering team as a front-end development engineer",
                "Based on the original transaction system, build, prototype, and implement a new self-order POS transaction system that specifically target android and apple tablets, using HTML5/CSS3 and Jquery.",
                "Design, protototype and implement an electronic interactive menu system, using React.js."],
            "link":"https://www.restmesh.com/home.html",
            "category":"internship",
            "categoryC":"#748392"
        },
        {
            "companyN":"Technology and Business Association",
            "role": "Marketing Co-Director",
            "date": "Nov 2017 - Jan 2019",
            "location": "Seattle, WA",
            "description":[
                 "Social Media Committee Leader: Organized and led fellow club-mates to write well-developed social media articles, both scientific and event-based, onto our WeChat Platform. It contains 2000+ subscriptions.",
                 "Video Committee Co-Leader: Worked with 10+ fellows using Adobe Creative Cloud.",
                 "Event Outreach and Organizer: Organized and led 10+ events with fellows. Yearly, our association connects hundreds of students with current industry professionals. Experience in developing marketing plans, writing financial proposal."],
            "link":"https://www.tbauw.org",
            "category":"school",
            "categoryC":"#6895B3"
        },
        {
            "companyN": "ROOTS Young Adult Shelter",
            "role": "Dinner Meal Team Member",
            "date": "Jan 2018 - Jun 2018",
            "location": "Seattle, WA",
            "description": ["Organize, prepare, and serve food for homeless people around U District twice a week."],
            "link": "",
            "category":"volunteer",
            "categoryC":"#6D9599"
        },
        {
            "companyN":"UW Leaders",
            "role": "Mentee, Leadership Symposium Participants",
            "date": "Dec 2017 - Jun 2018",
            "location": "Seattle, WA",
            "description":[
                "Leadership Development: Leadership program targets on leadership skills and different leadership styles. Learn different aspects of leadership includes intentionality, mentorship, empathy, personal growth, etc"],
            "link":"",
            "category":"school",
            "categoryC":"#6895B3"
        },
        {
            "companyN": "AI NEXTCon",
            "role": "Technology Support, Front Desk Communicator, Section Host",
            "date": "Jan 2018 - Jan 2018",
            "location": "Bellevue, WA",
            "description": ["Provide necessary technology support", "Guide and communicate with guests", "Host section"],
            "link": "",
            "category":"volunteer",
            "categoryC":"#6D9599"
        },
        {
            "companyN": "Rick's Cafe - UW House and Food Services",
            "role": "Student Volunteer",
            "date": "Dec 2016 - Jun 2017",
            "location": "Seattle, WA",
            "description": ["Make and sale ice cream and shakes to students at low price"],
            "link": "https://rickscafeuw.wordpress.com/",
            "category":"volunteer",
            "categoryC":"#6D9599"
        },
        {
            "companyN":"ShuXunDa Information Technology Company",
            "role": "Social Media Marketing Intern",
            "date": "Jun 2016 - Sep 2016",
            "location": "Beijing, China",
            "description":[
                 "Social Media Researcher: Analyze data and Communicate with our customers on Social Media Platform",
                 "Marketing Management: Research similar products and observe their marketing trends. Develop both short-term and long-term marketing plan for project’s future directions"],
            "link":"https://baike.baidu.com/item/%E5%8C%97%E4%BA%AC%E6%95%B0%E8%AE%AF%E8%BE%BE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8",
            "category":"internship",
            "categoryC":"#748392"
        },
        {
            "companyN": "FCSN - Friends of Children with Special Needs",
            "role": "Class Teacher & Class Assisstant",
            "date": "Aug 2013 - Jun 2016",
            "location": "San Jose, CA",
            "description": ["Help special students learn skills in classroom settings.", "Comfort and guide them if needed."],
            "link": "https://fcsn1996.org/",
            "category":"volunteer",
            "categoryC":"#6D9599"
        },
        {
            "companyN":"Asian Pacific American Leadership Institute",
            "role": "Youth Leadership Academy - Mentee",
            "date": "Jun 2015 - Aug 2015",
            "location": "Cupertino, CA",
            "description":[
                "Leadership Development: Explore Asian American cultural roots/identity, social justice, personal leadership, community empowerment, and non-traditional civic careers/service",
                "Leadership Project: Developed a social media campaign to help raise awareness in high school students' mental health issue, especially around Asian American communities."],
            "link":"https://apali.org/programs/yla/",
            "category":"school",
            "categoryC":"#6895B3"
        }
    ],
    "PastProjects": [
        {
            "name":"TabletOrder",
            "client": "Intern Project @Restmesh Inc.",
            "role":"UX Designer, Full-stack Developer",
            "link": "https://demosto.restmesh.com/restaurants/demo2019/tabletorder",
            "duration": "1 Month",
            "date":"July 2019 - August 2019",
            "skills":[["Design", "icon-tools", "40%"], ["Development", "icon-tools-2", "60%"]],
            "location": "Redmond, WA",
            "sDescription": "Online self-order POS transaction system",
            "lDescription": "",
            "tools":["Adobe AI", "Adobe XD", "HTML5", "CSS3", "Javascript", "Jquery"],
            "img":"img/project/tabletorder.png",
            "categories":["front-end", "design"]
        },
        {
            "name":"Baron’s Electronic Menu",
            "client": "Intern Project @Restmesh Inc.",
            "role":"UX Designer, Full-stack Developer",
            "link": "https://github.com/unicough/barons-menu-react",
            "duration": "2 Week",
            "date":"July 2019 - July 2019",
            "location": "Redmond, WA",
            "sDescription": "Electronic menu designed for high-end restaurant",
            "lDescription": "",
            "tools":["Adobe XD", "React"],
            "img":"img/project/baronMenu.png",
            "categories":["front-end", "design"]
        },
        {
            "name":"Suicide Prevention Guide",
            "client": "Population Health Informatics @UW",
            "role":"Data Analysts",
            "link": "https://github.com/helenlaire/HealthReport-TeamBug",
            "duration": "10 weeks",
            "date":"Apr 2019 - Jun 2019",
            "location": "Seattle, WA",
            "sDescription": "Data Analysis of suicidal rate and related risk and protective factors",
            "lDescription": "",
            "tools":["R", "ShinyApp"],
            "img":"img/project/suicide.png",
            "categories":["data-av"]
        },
        {
            "name":"SpeNeeds",
            "client": "Front-End Development @UW",
            "role":"UI Designer, UX Designer, Full-stack Developer",
            "link": "https://info340-speneeds.firebaseapp.com/",
            "duration": "10 weeks",
            "date":"Jan 2019 - Mar 2019",
            "location": "Seattle, WA",
            "sDescription": "Event Browser designed specifically for communities around children with special needs",
            "lDescription": "",
            "tools":["HTML5", "CSS3", "Javascript", "Jquery", "React"],
            "img":"img/project/speneeds.png",
            "categories":["front-end", "design"]
        },
        {
            "name":"Legistar",
            "client": "Seattle Hall Council",
            "role":"System Designer, UI Designer",
            "link": "https://drive.google.com/file/d/1XZs_VEiBDHfHWTPqzuKEBDlC4YcAAhyk/view?usp=sharing",
            "duration": "10 weeks",
            "date":"Jan 2019 - Mar 2019",
            "location": "Seattle, WA",
            "sDescription": "Research and develop requirement specifications for Seattle Hall Concil's legislation system",
            "lDescription": "",
            "tools":["Adobe Illustrator"],
            "img":"img/project/legistar.png",
            "categories":["research"]
        },
        {
            "name":"Perceptions of Waiting Time",
            "client": "Time Design @UW",
            "role":"User Researcher",
            "link": "https://docs.google.com/document/d/1MW2fJrQa0U6Yz8ndTt5QSK1JNOGe0zIoC8R_xkU0epg/edit?usp=sharing",
            "duration": "10 weeks",
            "date":"Jan 2019 - Mar 2019",
            "location": "Seattle, WA",
            "sDescription": "Research and Literature analysis on how designs impact people’s perceptions of waiting time",
            "lDescription": "",
            "tools":["Research"],
            "img":"img/project/waitingTime.png",
            "categories":["research"]
        },
        {
            "name":"Washington Guide",
            "client": "Information Technical Foundation @UW",
            "role":"Data Analysts",
            "link": "https://lmj0328.shinyapps.io/FinalProject/",
            "duration": "10 weeks",
            "date":"Sep 2018 - Dec 2018",
            "location": "Seattle, WA",
            "sDescription": "Data Visualization of Washington housing and income tax examining individual counties' trends over time",
            "lDescription": "",
            "tools":["R", "ShinyApp"],
            "img":"img/project/washingtonGuide.png",
            "categories":["data-av"]
        },
        {
            "name":"Portion Assisstant",
            "client": "Design Methods @UW",
            "role":"UI Designer, UX Designer, User Researcher",
            "link":"https://drive.google.com/file/d/1ZAa1piN11mKVTp4QQO_Bkl3KJrYLQIZ2/view?usp=sharing",
            "duration": "9 weeks",
            "date":"Jun 2018 - Aug 2018",
            "location": "Seattle, WA",
            "sDescription": "An add-on function in yelp aim to reduce food waste throught portion indication",
            "lDescription": "",
            "tools":["Adobe Illustrator"],
            "img":"img/project/menuCalculator.png",
            "categories":["design"]
        },
        {
            "name":"Form & Color Design",
            "client": "Design @UW",
            "role":"Interface Design",
            "link":"https://drive.google.com/file/d/1jTwjnjhjbhMuQBnUv4PvtFDCEdv3lDhv/view?usp=sharing",
            "duration": "9 weeks",
            "date":"Jun 2018 - Aug 2018",
            "location": "Seattle, WA",
            "sDescription": "Learning and practicing design principles. ",
            "lDescription": "",
            "tools":["Adobe Illustrator"],
            "img":"img/project/design265.png",
            "categories":["design"]
        },
        {
            "name":"Politify",
            "client": "Informatics Foundation @UW",
            "role":"UX Designer",
            "link": "https://docs.google.com/document/d/1QsySykORPLZVlCd5s8S3Wt_uhbehIp36S9hSfeHdg7A/edit?usp=sharing",
            "duration": "10 weeks",
            "date":"Jan 2018 - Mar 2018",
            "location": "Seattle, WA",
            "sDescription": "Mobile Application target on young non-voters to raise their political awareness",
            "lDescription": "",
            "tools":[""],
            "img":"img/project/politify.png",
            "categories":["design"]
        }
    ],
    "SkillSet": [
        {
            "title": "Web Dev. & Design",
            "iconLink": "icon-browser",
            "skills": ["HTML5","CSS3", "Javascript", "React", "React Native", "jQuery", "ES7", "Node.js", "Bootstrap", "Adobe XD", "Adobe Illustrator", "Adobe Photoshop"]
        },
        {
            "title": "Data Science",
            "iconLink": "icon-bargraph",
            "skills": ["SQL", "R", "Python", "Data Visualization", "Critical Thinking", "Presentation", "SASS", "Tableau"]
        },
        {
            "title": "Psychology",
            "iconLink": "icon-heart",
            "skills": ["Interpersonal Communication", "Research", "Statistics", "UnderGrad. Teaching", "Special Needs Children", "Patience", "Problem-Solving"]
        },
        {
            "title": "Others",
            "iconLink": "icon-lightbulb",
            "skills":["Adobe Premiere Pro", "Adobe After Effect", "Git", "PHP", "Firsbase Database", "Wordpress"]
        }
    ], 
    "Education": [
        {
            "name": "Beijing National Day School",
            "year": "2011 - 2013",
            "facts":["Teacher's Aide", "Qinglong Lake Park Volunteer Coordinator"],
            "graduated": "yes"
        },
        {
            "name": "Saratoga High School",
            "year": "2013 - 2016",
            "facts":["GPA: 3.74/4.0", "Multicultural Club - Activities Coordinator"],
            "graduated": "yes"
        },
        {
            "name": "University of Washington",
            "year": "2016 - 2021",
            "majors": ["Psychology, BS", "Informatics - Human Computer Interaction & Data Science Concentration, BS"],
            "facts": ["GPA: 3.78/4.0", "Annal Deans List 2016-2019"],
            "graduated": "no"
        }
    ],
    "Courses": [
        {
            "type":"Technical",
            "class":"technical",
            "color":"#748392",
            "classes":["Computer Programming I & II", "Web Programming", "Client-side Programming","Databases and Data Modeling","Data Structures and Algorithm", "Research Methods", "Project Management", "Infomation System Analysis & Design", "Population Health Informatics"]
        }, 
        {
            "type":"Design",
            "class":"design",
            "color":"#6895B3",
            "classes":["Mobile Application Design", "Visual Design", "Design Methods", "Design Thinking", "Time Design"]
        },
        {
            "type":"Psychology",
            "class":"psych",
            "color":"#6D9599",
            "classes":["BioPsychology", "Developmental Psychology", "Cognitive Psychology", "Stress & Coping", "Learning and Memory", "Psychobiology of Women", "Psychological Research", "Statistics in Psychology"]
        },
        {
            "type":"Other",
            "class":"",
            "color":"#11365C",
            "classes":["Social Problem", "Professional Writing", "Sculpture", "Ceramic", "Identity Development in Classroom", "Asian American History"]
        } 
    ]
}


// render navigation bar item


// when window scroll, switch navigation bar stylesheet
$(window).scroll(function() {
    if($(document).scrollTop() > 50 || $('#home-page').css('display') === 'none') {
        $("#navigation-bar nav").addClass("scrolled");
        $("#navigation-bar .navbar-brand span").addClass("scrolled");
        $("#navigation-bar .navbar-nav li a").addClass("scrolled");
        $("#navigation-bar .navbar-nav i").addClass("scrolled");    
    } else {
        $("#navigation-bar nav").removeClass("scrolled");
        $("#navigation-bar .navbar-brand span").removeClass("scrolled");
        $("#navigation-bar .navbar-nav li a").removeClass("scrolled");
        $("#navigation-bar .navbar-nav i").removeClass("scrolled");    
    } 
});

renderHomePage();

$('#filters li.filter').click(function() {
    $(".filter").removeClass("current");
    $(this).addClass("current");
    
    // filterPortfolio
    var filter = $(this).attr('value');
    filterPortfolio(filter);
});



function renderHomePage() {
    renderSkillSet();
    renderEducationHistory();
    renderCourse();
    renderExperience();
    renderPortfolio();
    $('#about-me-page').hide();
    $('#portfolio-page').hide();
    $('#about-me-button').click(() => {
        renderAboutMePage();
    })

    $('#portfolio-button').click(() => {
        renderPortfolioPage();
    })
}

function renderAboutMePage() {
    $('#home-page').hide();
    $('#about-me-page').show();
    $('#portfolio-page').hide();
}

function renderPortfolioPage() {
    $('#home-page').hide();
    $('#about-me-page').hide();
    $('#portfolio-page').show();

    if($('#home-page').css('display') === 'none') {
        $("#navigation-bar nav").addClass("scrolled");
        $("#navigation-bar .navbar-brand span").addClass("scrolled");
        $("#navigation-bar .navbar-nav li a").addClass("scrolled");
        $("#navigation-bar .navbar-nav i").addClass("scrolled");    
    }
}



/* sub function */
function renderSkillSet() {
    let skillCardContainer = $('#skill-card-container');
    const skillSet = personalData["SkillSet"];
    skillSet.forEach((skillCard) => {
        let container = $('<div class="skill-card">')
        let subContainer = $('<div></div>');
        let skillCategory = $(`<h3>` + skillCard.title + `</h3>`);
        let skillContainer = $('<div class="skill-container"></div>');
        skillCard.skills.forEach((skill) => {
            skillContainer.append('<span>' + skill + '</span>');
        });
        $(subContainer).append(skillCategory);
        $(subContainer).append(skillContainer);

        $(container).append(`<div class="icon-container"><span class="` + skillCard.iconLink + `"></span></div>`);
        $(container).append(subContainer);
        $(skillCardContainer).append(container);
    });
}

function renderEducationHistory() {
    let educationCardContainer = $('#education-card-container');
    const educationHistory = personalData["Education"];
    educationHistory.forEach((education) => {
        let container = $('<div class="education-card">');
        // choose icon based on graduate status
        if(education["graduated"] === "yes") {
            $(container).append('<div class="education-icon"><i class="fas fa-graduation-cap"></i></div>');
        } else {
            $(container).append('<div class="education-icon"><i class="fas fa-university"></i></div>');
        }
        let subContainer = $('<div></div>');
        let name = $('<h3>' + education.name + '</h3>' + '<p class="education-year">' + education.year + '</p>');
        // render major content
        let majorContainer = $('<div class="major-container"></div>');
        if(education["majors"] !== undefined) {
            education["majors"].forEach((major) => {
                $(majorContainer).append('<p>' + major + '</p>');
            })
        } 
        // render fact content
        let factContainer = $('<div class="fact-container"></div>');
        let facts = ""
        education["facts"].forEach((fact) => {
            if (facts === "") {
                facts += fact
            } else {
                facts = facts +  ", " + fact;
            }
        });
        $(factContainer).append('<p>' + facts + '</p>');
        $(subContainer).append(name);
        $(subContainer).append(majorContainer);
        $(subContainer).append(factContainer);
        $(container).append(subContainer);
        $(educationCardContainer).prepend(container);
    });
}
 
function renderCourse() {
    let courseCardContainer = $('#course-card-container');
    const courseHistory = personalData["Courses"];
    courseHistory.forEach((course) => {
        course["classes"].forEach((classes) => {
            $(courseCardContainer).append('<span class="' + course.class + '">' + classes + '</span>');
        });
        let courseColorScheme = $('#course-color-scheme-container');
        let scheme = $('<div><div class="course-color-block" style="background-color:'+ course.color + ';"></div><span>' + course.type + '</span></div>');
        $(courseColorScheme).append(scheme);
    })
}

function renderExperience() {
    let proContainer = $('#pro-card-container');
    let experiences = personalData["ProfessionalExperience"];
    let colorContainer = $('#pro-color-scheme-container');
    let colors = [["#748392", "Internship"], ["#6D9599", "Volunteer"], ["#6895B3", "School Activity"]];
    colors.forEach((color) => {
        colorContainer.append('<div class="pro-color-block-card"><div class="pro-color-block" style="background-color:'+ color[0] + ';"></div><span>' + color[1]+ '</span></div>')
    })
    experiences.forEach((experience) => {
        let card = $('<div class="pro-card" style="border-left: 1vw solid ' + experience["categoryC"] + ';">')
        if(experience["link"] !== "") {
            let extlink = $('<a href="' + experience["link"] + '"><div class="pro-external-icon"><span class="icon-attachment" aria-hidden="true"></span></div></a>');
            $(card).append(extlink);
        }
        let cTitle = $('<h3>' + experience["companyN"] + ' | ' + experience["role"] + '</h3>');
        let dateLocation = $('<h4>' + experience["date"] + '     ' + experience["location"] + '</h4>');
        let description = $('<ul></ul>');
        experience["description"].forEach((des) => {
            $(description).append('<li>' + des + '</li>');
        });
        $(card).append(cTitle);
        $(card).append(dateLocation);
        $(card).append(description);
        $(proContainer).append(card);
    })
}

function renderPortfolio() {
    let portfolio1 = $('#p-first');
    let portfolio2 = $('#p-second');
    let ifFirst = true;
    let projects = personalData["PastProjects"];
    projects.forEach((project) => {
        let categories = ""
        project["categories"].forEach((category) => {
            if(categories === "") {
                categories += category;
            } else {
                categories = categories + " " + category
            }
        })
        let projectContainer = $('<li class="p-item" data-category="' + categories + '"></li>');
        let projectContent = $('<a href="' + project["link"] + '"></a>');
        let imgContainer = $('<div class="p-image"><img src="' +  project["img"] + '" alt="' + project["name"] + '"/></div>')
        let captionContainer =$(`<div class="p-caption">
                                    <div class="p-date">` + project["date"] + `</div>
                                    <h3 class="p-title">` + project["name"] + `</h3>
                                    <div class="p-desc">` + project["sDescription"] + `</div>
                                    <div class="p-role">` + project["role"] + `</div>
                                    <div class="p-browse">>>> For More</div>
                                </div`);
        $(projectContent).append(imgContainer);
        $(projectContent).append(captionContainer);
        $(projectContainer).append(projectContent);
        if(ifFirst) {
            $(portfolio1).append(projectContainer);
            ifFirst = !ifFirst;
        } else {
            $(portfolio2).append(projectContainer);
            ifFirst = !ifFirst;
        }
    })
}

function filterPortfolio(value) {
	var list = $("#p-grid .p-item");
	$(list).hide();
	if (value == "all") {
		$("#p-grid").find(".p-item").each(function (i) {
			$(this).delay(200).fadeIn("fast");
		});
	} else {
		$("#p-grid").find("li[data-category*=" + value + "]").each(function (i) {
			$(this).delay(200).fadeIn("fast");
		});
	}
}